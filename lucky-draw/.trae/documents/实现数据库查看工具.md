# 数据库查看工具实现方案

## 后端实现

1. **扩展管理员控制器**
   - 在 `adminController.js` 中添加新的方法：
     - `getUsers`: 获取用户列表（支持分页和过滤）
     - `getLotteries`: 获取抽奖记录（支持分页和过滤）
     - `getRedEnvelopes`: 获取红包配置

2. **添加新的路由**
   - 在 `routes/index.js` 中添加新的管理员路由：
     - `GET /api/admin/users` - 获取用户数据
     - `GET /api/admin/lotteries` - 获取抽奖数据
     - `GET /api/admin/red-envelopes` - 获取红包配置

3. **实现数据查询功能**
   - 支持分页（page, limit 参数）
   - 支持排序（sort 参数）
   - 支持简单过滤（如按状态、部门等）

## 前端实现

1. **创建管理界面**
   - 在前端 `src` 目录下创建 `Admin` 文件夹
   - 创建 `DatabaseViewer.jsx` 组件

2. **实现数据展示功能**
   - 表格展示数据
   - 分页控件
   - 数据过滤选项
   - 支持导出数据为 CSV

3. **添加导航**
   - 在现有前端界面中添加管理入口
   - 实现简单的认证检查

## 技术要点

- **安全性**：所有管理接口都需要通过现有的 `auth` 中间件保护
- **性能**：使用 MongoDB 的分页查询，避免一次性加载大量数据
- **用户体验**：提供直观的数据展示和操作界面
- **可扩展性**：设计灵活的查询接口，便于后续添加更多功能

## 实现步骤

1. 首先实现后端 API 端点
2. 然后创建前端管理界面
3. 最后测试完整功能

这样用户就可以通过管理界面方便地查看和导出数据库中的数据了。